# 狀態模式
在軟體工程中，建立型模式是處理物件建立的設計模式，試圖根據實際情況使用合適的方式建立物件，因為基本的物件建立方式可能會導致設計上的問題，或增加設計的複雜度。建立型模式的關注點是如何建立物件，其核心思想是要把物件的建立和使用相分離。

行為型模式為設計模式的一種類型，用來識別對象之間的常用交流模式並加以實現。
如此，可在進行這些交流活動時增強彈性

## 簡介狀態模式
- 狀態模式（State Pattern）是一種行為型模式(策略 規格 觀察者)，用於將對象的行為和其狀態分離，使得在不同的狀態下對象具有不同的行為。
- 狀態模式包含三種角色：上下文（Context）、狀態（State）和具體狀態（Con crete State）。
- 狀態模式的核心思想是將對象的狀態抽象成一個狀態類別，對象在不同的狀態下持有不同的狀態對象。當對象的狀態發生改變時，對象會根據當前狀態對象的不同，執行不同的行為。


## 狀態模式的優點和適用場景
- 將狀態轉換規則集中到一個地方：狀態模式可以將狀態轉換規則集中到狀態類別中，使得代碼更加清晰明了，易於理解和維護。
- 減少條件語句的使用：狀態模式可以減少條件語句的使用，使得代碼更加簡潔，易於理解和維護。
- 將狀態判斷從上下文中分離出來：狀態模式可以將狀態判斷從上下文中分離出來，對象的行為取決於其當前的狀態，當狀態發生改變時，對象的行為也會相應地改變。，例如自動售貨機、線上訂單狀態追蹤等。
- 支持開放封閉原則：狀態模式可以支持開放封閉原則，即當需要添加新的狀態時，只需要添加一個新的狀態類別，而不需要修改原有的代碼，不會對系統產生太大的影響。
- 適用於狀態轉換頻繁的場景：狀態模式適用於狀態轉換頻繁的場景，例如交通信號燈、遊戲中的角色狀態等。
- 提高代碼可讀性和維護性：狀態模式可以提高代碼的可讀性和維護性，使得代碼更加靈活和可擴展。
### State Pattern的優缺點
#### 優點
1. 減少物件之間的依賴性。
2. 利於系統的擴中。
3. 定義新的子類別可以很容易的新增新狀態。
#### 缺點
1. 增加系統的類別及物件的個數。
2. 結構與實作都相對複雜。
#### State Pattern的使用時機
1. 物件的行為取決於他的狀態，並必須要執行時根據狀態改變他的行為時。
2. 一個操作具有龐大的分支結構，且這些分支決定物件的狀態時。

## 狀態模式的基本結構/實現方法
### 基本結構
1. 上下文（Context）：包含狀態的參考，可以向狀態物件委派行為。
2. 狀態（State）：定義一個接口，用於封裝與上下文的特定狀態相關的行為。
3. 具體狀態（Concrete State）：實現狀態接口，封裝與上下文的特定狀態相關的行為。
### 實現方法
- 定義狀態接口：狀態接口定義了與上下文相關的行為，這些行為將在不同的狀態下具有不同的實現。
- 定義具體狀態類別：具體狀態類別實現了狀態接口，封裝了與特定狀態相關的行為。
- 定義上下文類別：上下文類別包含了狀態的參考，並向狀態物件委派行為。上下文類別還可以定義一些公共的行為，這些行為可以被具體狀態類別共享。
- 在上下文類別中添加狀態轉換方法：上下文類別需要提供狀態轉換方法，用於改變狀態。當狀態轉換時，上下文類別會向狀態物件委派行為。
- 在客戶端代碼中使用狀態模式：客戶端代碼可以通過上下文類別來訪問狀態，並改變狀態。

## 狀態模式的 範例 並提供不好的範例
```
```

## 結語
狀態模式是一種將對象的狀態和行為進行分離的設計模式，它可以讓對象在不同的狀態下具有不同的行為，從而使系統更加靈活和易於維護。